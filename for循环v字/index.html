<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			#box {
				width: 250px;
				height: 250px;
				border: 1px solid #dedede;
				position: relative;
			}
			
			#box div {
				width: 50px;
				height: 50px;
				color: #fff;
				background: red;
				line-height: 50px;
				text-align: center;
				position: absolute;
			}
		</style>
	</head>

	<body>
		<div id="box">

		</div>
		<input type="button" name="change" id="change" value="改变" />
		<p><input type="text" name="divNum" id="divNum" placeholder="请输入奇数个div" /><input type="button" name="sure" id="sure" value="确定" /></p>
		<script type="text/javascript">
			var num = 5,
				index = 1,
				box = document.getElementById("box"),
				changeBtn = document.getElementById("change"),
				divNum = document.getElementById("divNum"),
				sure = document.getElementById("sure");
			for(var i = 0; i < num; i++) {
				box.innerHTML += "<div style='left:" + (50 * i) + "px;top: " + (50 * (parseInt(num / 2) - (Math.abs(parseInt(num / 2) - i)))) + "px;'>" + i + "</div>";
			}
			sure.onclick = function() {
				num = parseInt(divNum.value);
				onChange();
				box.style.width = num * 50 + "px";
				box.style.height = num * 50 + "px";
			}
			changeBtn.onclick = function() {
				index++;
				onChange();
			}

			function onChange() {
				box.innerHTML = '';
				if(index == 1) {
					for(var i = 0; i < num; i++) {
						box.innerHTML += "<div style='left:" + (50 * i) + "px;top: " + (50 * (parseInt(num / 2) - (Math.abs(parseInt(num / 2) - i)))) + "px;'> " + i + " </div>";
					}
				}
				if(index == 2) {
					for(var i = 0; i < num; i++) {
						box.innerHTML += "<div style='left:" + (50 * (parseInt(num / 2) - (Math.abs(parseInt(num / 2) - i)))) + "px;top: " + (50 * i) + "px;'>" + i + "</div>";
					}
				}
				if(index == 3) {
					for(var i = 0; i < num; i++) {
						box.innerHTML += "<div style='left:" + (50 * i) + "px;top: " + (50 * (parseInt(num / 2) + (Math.abs(parseInt(num / 2) - i)))) + "px;'>" + i + "</div>";
					}
				}
				if(index == 4 || index==0) {
					for(var i = 0; i < num; i++) {
						box.innerHTML += "<div style='left:" + (50 * (parseInt(num / 2) + (Math.abs(parseInt(num / 2) - i)))) + "px;top: " + (50 * i) + "px;'>" + i + "</div>";
					}
					index = 0;
				}
			}
		</script>
	</body>

</html>